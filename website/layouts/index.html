{{ define "main" }}
<main class="container">
    <section style="text-align: center; padding: 4rem 0; min-height: 100vh; display: flex; flex-direction: column; justify-content: center;">
        <div style="margin-bottom: 2rem;">
            <img src="/images/http4py-logo.webp" alt="http4py Logo" style="width: 120px; height: 120px; margin-bottom: 2rem;">
        </div>

        <h1 style="font-family: 'JetBrains Mono', monospace; font-size: 4rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-light); text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
            http4py
        </h1>

        <p style="font-size: 1.5rem; color: var(--python-yellow); margin-bottom: 1rem; font-weight: 500;">
            Server as a Function for Python
        </p>

        <p style="font-size: 1.1rem; color: var(--text-muted); max-width: 700px; margin: 0 auto 2rem auto; line-height: 1.8;">
            A functional HTTP toolkit for Python, inspired by <a href="https://monkey.org/~marius/funsrv.pdf" target="_blank" style="color: var(--python-yellow); font-weight: 600;"><strong>Server as a Function</strong></a> ‚Äî the paradigm that treats server-side logic as pure, composable functions. From the same development team that brought you <a href="https://http4k.org" target="_blank" style="color: var(--python-yellow); font-weight: 600;">http4k</a> ‚Äî the most testable web framework on the planet!
        </p>

        <p style="font-size: 1rem; color: var(--text-muted); max-width: 650px; margin: 0 auto 2rem auto; line-height: 1.7;">
            Build HTTP services that are just functions. No framework magic, no complex abstractions ‚Äî your entire app is <code style="background: rgba(0,0,0,0.3); padding: 0.2rem 0.4rem; border-radius: 3px; color: var(--python-yellow);">Request ‚Üí Response</code>. Test without servers. Compose without complexity.
        </p>

        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-bottom: 3rem;">
            <a href="https://github.com/http4py/http4py" class="btn" target="_blank" rel="noopener noreferrer">
                View on GitHub
            </a>
            <a href="#examples" class="btn btn-outline">
                See Examples
            </a>
        </div>

        <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; flex-wrap: wrap; margin-top: 2rem;">
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-muted);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                Immutable HTTP Objects
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-muted);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                Functional Composition
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-muted);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                Type Safe
            </div>
        </div>
    </section>

    <section id="examples" style="padding: 4rem 0; border-top: 1px solid var(--python-blue);">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--python-yellow);">
                See It In Action
            </h2>
            <p style="color: var(--text-muted); max-width: 700px; margin: 0 auto; font-size: 1.1rem;">
                Your entire application is just a function. Same interface for servers and clients ‚Äî incredible composability, extreme testability.
            </p>
        </div>

        <div style="max-width: 900px; margin: 0 auto;">
            <div class="code-tabs" style="justify-content: center;">
                <button class="code-tab active" onclick="showTab('handler')">Server as a Function</button>
                <button class="code-tab" onclick="showTab('routing')">Route traffic</button>
                <button class="code-tab" onclick="showTab('middleware')">Add middleware</button>
                <button class="code-tab" onclick="showTab('testing')">Simple testing</button>
                <button class="code-tab" onclick="showTab('server')">Serve traffic</button>
                <button class="code-tab" onclick="showTab('client')">Client as a Function</button>
            </div>

            <div id="handler" class="code-content active">
                {{ partial "code-example.html" (dict "file" "handler.py" "id" "handler-code") }}
            </div>

            <div id="server" class="code-content">
                {{ partial "code-example.html" (dict "file" "server.py" "id" "server-code") }}
            </div>

            <div id="routing" class="code-content">
                {{ partial "code-example.html" (dict "file" "routing.py" "id" "routing-code") }}
            </div>

            <div id="client" class="code-content">
                {{ partial "code-example.html" (dict "file" "client.py" "id" "client-code") }}
            </div>

            <div id="middleware" class="code-content">
                {{ partial "code-example.html" (dict "file" "filters.py" "id" "middleware-code") }}
            </div>

            <div id="testing" class="code-content">
                {{ partial "code-example.html" (dict "file" "testing.py" "id" "testing-code") }}
            </div>

        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <p style="color: var(--text-muted); font-size: 1rem; margin-bottom: 1.5rem;">
                <strong>HttpHandler = Callable[[Request], Response]</strong> ‚Äî Same interface, infinite possibilities
            </p>
        </div>
    </section>

    <section style="padding: 3rem 0; border-top: 1px solid var(--python-blue);">
        <div style="text-align: center; margin-bottom: 2rem;">
            <h2 style="font-size: 2rem; margin-bottom: 1rem; color: var(--python-yellow);">
                Key Features
            </h2>
        </div>

        <div style="display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; max-width: 800px; margin: 0 auto;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">‚ú® Zero Magic</span>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">üß™ Extreme Testability</span>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">üì¶ Minimal Dependencies</span>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">üîó Functional Design</span>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">üõ°Ô∏è Type Safe</span>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem 1.5rem; border-radius: 25px; border: 1px solid var(--python-blue);">
                <span style="color: var(--text-light); font-size: 0.95rem;">üî• Immutable Objects</span>
            </div>
        </div>
    </section>

    <section id="features" style="padding: 4rem 0; border-top: 1px solid var(--python-blue);">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--python-yellow);">
                Why Choose http4py?
            </h2>
            <p style="color: var(--text-muted); max-width: 700px; margin: 0 auto;">
                When your entire application is just a function, magic disappears and clarity emerges. Test without servers, compose without complexity, reason without surprises.
            </p>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
            <div style="padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px; border: 1px solid var(--python-blue);">
                <h3 style="color: var(--python-yellow); margin-bottom: 1rem; font-size: 1.3rem;">üß™ Test Like You've Never Tested</h3>
                <p style="color: var(--text-muted); line-height: 1.6;">
                    <code style="background: rgba(0,0,0,0.3); padding: 0.2rem 0.4rem; border-radius: 3px;">response = app(request)</code> ‚Äî No servers, no mocks, no complexity. Just call your function and assert the result.
                </p>
            </div>

            <div style="padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px; border: 1px solid var(--python-blue);">
                <h3 style="color: var(--python-yellow); margin-bottom: 1rem; font-size: 1.3rem;">üîó Compose Everything</h3>
                <p style="color: var(--text-muted); line-height: 1.6;">
                    Middleware, clients, servers ‚Äî all just functions with the same signature. Compose them like LEGO blocks. <code style="background: rgba(0,0,0,0.3); padding: 0.2rem 0.4rem; border-radius: 3px;">HttpHandler = Callable[[Request], Response]</code>
                </p>
            </div>

            <div style="padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 12px; border: 1px solid var(--python-blue);">
                <h3 style="color: var(--python-yellow); margin-bottom: 1rem; font-size: 1.3rem;">üõ°Ô∏è Battle-Tested Design</h3>
                <p style="color: var(--text-muted); line-height: 1.6;">
                    From the http4k team ‚Äî proven in production worldwide. Immutable objects, strict typing, functional principles. Zero magic, maximum clarity.
                </p>
            </div>
        </div>
    </section>

    <section style="padding: 4rem 0; text-align: center; border-top: 1px solid var(--python-blue);">
        <h2 style="font-size: 2rem; margin-bottom: 2rem; color: var(--python-yellow);">
            Get Started
        </h2>

        <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; padding: 1.5rem; margin: 2rem auto; max-width: 600px; text-align: left; border: 1px solid var(--python-blue);">
            <code style="color: var(--text-muted); font-family: 'JetBrains Mono', monospace; font-size: 0.95rem;">
                # Install http4py (coming soon!)
            </code>
            <br>
            <code style="color: var(--python-light-blue); font-family: 'JetBrains Mono', monospace; font-size: 0.95rem;">
                pip install http4py-core http4py-server-uvicorn
            </code>
        </div>

        <div style="margin-top: 2rem;">
            <a href="https://github.com/http4py/http4py" class="btn" target="_blank" rel="noopener noreferrer">
                View on GitHub
            </a>
        </div>
    </section>

</main>
{{ end }}
